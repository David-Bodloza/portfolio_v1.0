<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>@davidbodloaza</title>
    <link rel="stylesheet" href="../style.css">
</head>

<body>
    <section id="contact">
        <h2>Contact Me</h2>
        <p>Have a question or want to work together? Send me a message</p>
        <form action="https://getform.io/f/bkkydqyb" method="POST">
            <div class="form_group">
                <input type="text" name="name" placeholder="Your Name" required>
            </div>
            <div class="form_group">
                <input type="email" name="email" placeholder="Your Email" required>
            </div>
            <div class="form_group">
                <textarea name="message" rows="5" placeholder="Your Message" required></textarea>
            </div>
            <button type="submit" class="btn">Send message</button>

            <!--Success Message-->
            <p id="success-message" style="display: none; color: green; margin-top: 10px;">
                Message sent successfully
            </p>
        </form>
    </section>


    <script>
        document.querySelector("form").addEventListener("submit", function (e) {
            e.preventDefault();
            var form = this;
            var formData = new FormData(form);
            var successMessage = document.getElementById('success-message');

            fetch(form.action, {
                method: form.method,
                body: formData,
                headers: { "Accept": "application / json" }
            }).then(response => {
                if (response.ok) {
                    successMessage.style.display = 'block';
                    form.reset();

                    setTimeout(() => {
                        successMessage.style.display = 'none';
                    }, 5000);
                } else {
                    alert("Error sending message. Please try again.")
                }
            }).catch(error => alert("Error sending message"))
        });
    </script>
</body>

</html>